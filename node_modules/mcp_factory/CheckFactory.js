var ssq = require('mcp_ssq').ssq;

/**
 * 算奖的工场类
 * @constructor
 */
var CheckFactory = function()
{
}

CheckFactory.prototype.getByGameCode = function(term, gl)
{
    var gameGrades = [];
    var grades = gl.grades;
    for(var i = 0; i < grades.length; i++)
    {
        var grade = grades[i];
        gameGrades[grade.gLevel - 1] = grade.bonus;
    }

    var check, ckGl;
    if(term.gameCode == 'F01')
    {
        check = ssq.check();
        ckGl = ssq.gl(gameGrades.length);
    }
    else
    {
        return null;
    }

    ckGl.setBonus(gameGrades);
    check.setDrawNum(term.winningNumber);
    check.setGl(ckGl);
    return check;
}

module.exports = new CheckFactory();